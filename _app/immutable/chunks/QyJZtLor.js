import{X as o,Y as G,Z as K,_ as h,$ as z,N as S,a0 as P,a1 as R,a2 as D,g as V,a3 as X,a4 as k,i as J,E as Q,B as Y,p as W,F as x,H as p,a5 as ee,a6 as ae,o as re,n as U,a7 as j,A as C,a8 as F,q as te,a9 as ie,aa as fe,a as B,ab as ne,ac as se,ad as ue,P as H,ae as le,af as ve,ag as _e,ah as ce,ai as de,l as ge,aj as be,ak as Pe,al as Ie,am as ye}from"./BHB9Lpxj.js";function T(a,l=null,c){if(typeof a!="object"||a===null||o in a)return a;const v=k(a);if(v!==G&&v!==K)return a;var i=new Map,u=J(a),b=h(0);u&&i.set("length",h(a.length));var I;return new Proxy(a,{defineProperty(n,e,r){(!("value"in r)||r.configurable===!1||r.enumerable===!1||r.writable===!1)&&X();var f=i.get(e);return f===void 0?(f=h(r.value),i.set(e,f)):R(f,T(r.value,I)),!0},deleteProperty(n,e){var r=i.get(e);if(r===void 0)e in n&&i.set(e,h(P));else{if(u&&typeof e=="string"){var f=i.get("length"),t=Number(e);Number.isInteger(t)&&t<f.v&&R(f,t)}R(r,P),Z(b)}return!0},get(n,e,r){var d;if(e===o)return a;var f=i.get(e),t=e in n;if(f===void 0&&(!t||(d=D(n,e))!=null&&d.writable)&&(f=h(T(t?n[e]:P,I)),i.set(e,f)),f!==void 0){var s=S(f);return s===P?void 0:s}return Reflect.get(n,e,r)},getOwnPropertyDescriptor(n,e){var r=Reflect.getOwnPropertyDescriptor(n,e);if(r&&"value"in r){var f=i.get(e);f&&(r.value=S(f))}else if(r===void 0){var t=i.get(e),s=t==null?void 0:t.v;if(t!==void 0&&s!==P)return{enumerable:!0,configurable:!0,value:s,writable:!0}}return r},has(n,e){var s;if(e===o)return!0;var r=i.get(e),f=r!==void 0&&r.v!==P||Reflect.has(n,e);if(r!==void 0||V!==null&&(!f||(s=D(n,e))!=null&&s.writable)){r===void 0&&(r=h(f?T(n[e],I):P),i.set(e,r));var t=S(r);if(t===P)return!1}return f},set(n,e,r,f){var A;var t=i.get(e),s=e in n;if(u&&e==="length")for(var d=r;d<t.v;d+=1){var y=i.get(d+"");y!==void 0?R(y,P):d in n&&(y=h(P),i.set(d+"",y))}t===void 0?(!s||(A=D(n,e))!=null&&A.writable)&&(t=h(void 0),R(t,T(r,I)),i.set(e,t)):(s=t.v!==P,R(t,T(r,I)));var g=Reflect.getOwnPropertyDescriptor(n,e);if(g!=null&&g.set&&g.set.call(f,r),!s){if(u&&typeof e=="string"){var w=i.get("length"),N=Number(e);Number.isInteger(N)&&N>=w.v&&R(w,N+1)}Z(b)}return!0},ownKeys(n){S(b);var e=Reflect.ownKeys(n).filter(t=>{var s=i.get(t);return s===void 0||s.v!==P});for(var[r,f]of i)f.v!==P&&!(r in n)&&e.push(r);return e},setPrototypeOf(){z()}})}function Z(a,l=1){R(a,a.v+l)}function he(a,l,[c,v]=[0,0]){Y&&c===0&&W();var i=a,u=null,b=null,I=P,n=c>0?x:0,e=!1;const r=(t,s=!0)=>{e=!0,f(s,t)},f=(t,s)=>{if(I===(I=t))return;let d=!1;if(Y&&v!==-1){if(c===0){const g=i.data;g===p?v=0:g===ee?v=1/0:(v=parseInt(g.substring(1)),v!==v&&(v=I?1/0:-1))}const y=v>c;!!I===y&&(i=ae(),re(i),U(!1),d=!0,v=-1)}I?(u?j(u):s&&(u=C(()=>s(i))),b&&F(b,()=>{b=null})):(b?j(b):s&&(b=C(()=>s(i,[c+1,v]))),u&&F(u,()=>{u=null})),d&&U(!0)};Q(()=>{e=!1,l(r),e||f(null,null)},n),Y&&(i=te)}function $(a,l){return a===l||(a==null?void 0:a[o])===l}function Ae(a={},l,c,v){return ie(()=>{var i,u;return fe(()=>{i=u,u=[],B(()=>{a!==c(...u)&&(l(a,...u),i&&$(c(...i),a)&&l(null,...i))})}),()=>{ne(()=>{u&&$(c(...u),a)&&l(null,...u)})}}),a}let m=!1;function Re(a){var l=m;try{return m=!1,[a(),m]}finally{m=l}}function Ee(a,l,c,v){var M;var i=(c&Pe)!==0,u=!ge||(c&be)!==0,b=(c&ce)!==0,I=(c&ye)!==0,n=!1,e;b?[e,n]=Re(()=>a[l]):e=a[l];var r=o in a||de in a,f=b&&(((M=D(a,l))==null?void 0:M.set)??(r&&l in a&&(_=>a[l]=_)))||void 0,t=v,s=!0,d=!1,y=()=>(d=!0,s&&(s=!1,I?t=B(v):t=v),t);e===void 0&&v!==void 0&&(f&&u&&se(),e=y(),f&&f(e));var g;if(u)g=()=>{var _=a[l];return _===void 0?y():(s=!0,d=!1,_)};else{var w=(i?H:le)(()=>a[l]);w.f|=ue,g=()=>{var _=S(w);return _!==void 0&&(t=void 0),_===void 0?t:_}}if((c&ve)===0)return g;if(f){var N=a.$$legacy;return function(_,E){return arguments.length>0?((!u||!E||N||n)&&f(E?g():_),_):g()}}var A=!1,L=Ie(e),O=H(()=>{var _=g(),E=S(L);return A?(A=!1,E):L.v=_});return i||(O.equals=_e),function(_,E){if(arguments.length>0){const q=E?S(O):u&&b?T(_):_;return O.equals(q)||(A=!0,R(L,q),d&&t!==void 0&&(t=q),B(()=>S(O))),_}return S(O)}}export{T as a,Ae as b,he as i,Ee as p};
